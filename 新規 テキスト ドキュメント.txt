

改善点
・保存先は固定→保存先のファイル名を読み取り→メニューバーでネットワーク名を表示(リストボックス)→ネットワーク名を選択すれば切り替え
・デスクトップ版Cytoscapeとの完全に互換のあるファイルを出力
・テーブルパネルでの各データの表示を折り返し表示しない（配列は1要素ごと改行は、そのまま）
・各パネルの文字の大きさを小さくしてパネルをコンパクトにする
・フィルター処理速度の改善
済　個別のStyle設定
済　DATA TYPEからDATE型を削除
済　Label Widthの1目盛りの拡大幅を広げる

作業経歴

メニューバーにInsertというメニューを作成して表、図形、画像を挿入できるようにしたいと考えています。
UIはMicrosoftのPowerPointにあるInsertをイメージしてください
また表、図形、画像はネットワーク図とは別のレイヤーとして処理するようにしたいです。
どのようなUIがよいかいくつか案を考えてください

# Insert機能
- メニューバーのFilterの右横にInsertメニューを作成しInsertをクリックするとInsert Panelを表示する
- 表、図形、画像を挿入できる機能
- 独立レンダリング: 表/図形/画像は Cytoscape の要素とは別の DOM レイヤー（例: div 上に SVG/HTML）として管理して、ネットワークとは Z-order を分離。
- レイヤー操作: 各オブジェクトは属レイヤーを持ち、レイヤー単位で表示/非表示・ロック（移動不可）・不透明度変更が可能。
- 選択/編集連携: レイヤー上のオブジェクト選択は Cytoscape 選択とは独立。選択時は共通のプロパティパネル（StylePanel の簡易版）で編集。
- 保存/復元: CX2（または既存の保存形式）に overlayLayers セクションを追加して、各オブジェクトの型（table/shape/image）、位置、サイズ、スタイル、コンテンツ（画像は base64 または URL）を保存。
- エクスポート: SVG/PNG エクスポート時にレイヤーを合成（ネットワーク+オーバーレイ）して出力可能にする。
- 座標系の同期: ネットワークのパン/ズームとレイヤー座標を同期（transform を共有）して、ズーム時にオーバーレイが追従するようにする。
- UIは他のパネルと踏襲して同じデザインとする
- UIはMicrosoftのPowerPointのような表、図形、画像などをアイコンとして表示し見た目で分かるようにする。機能面もまねできる部分は真似する
- 表、図形、画像のサイズ変更は画面上でマウスでドラッグして変更できるようにする。また文字入力もダブルクリックすることで文字が入力できるようにする
- 表は列数、行数を設定可能。列・行のセルの中に文字を設定したり、塗りつぶしが可能。表のラインの太さや色設定が可能。行・列の幅が設定可能
- 図形は図形のサイズ・回転が可能、ラインと太さや色設定が可能、塗りつぶしが可能。
- 画像はサイズ・回転が可能


レイヤーは、ユーザが複数レイヤーを作る想定です（例：Annotations, Images, Tables）
画像ソース：画像はローカルアップロードのみ
画像保存形式：CX2 に埋める場合は base64（ファイル肥大化）
テーブルの入出力：表は CSV のインポート/エクスポートを必要としない。セルのセル結合は必要
編集モードの挙動：挿入後は即編集可能（ダブルクリックで編集）
選択の優先度：オーバーレイ選択時に Cytoscape の要素が選ばれないように完全に独立
Transform の同期：ズーム/パン同期は「overlayコンテナ に CSS transform を反映」する方式
回転の中心：図形/画像の回転は中心回転で問題なし
スナップ/整列：ガイドやスナップ機能（グリッド、オブジェクト揃え）は必要
Undo/Redo：基本操作（挿入/削除/移動/サイズ変更/編集）に対する Undo/Redo が必要なし
最大要素数・パフォーマンス目標：想定されるオーバーレイ要素数は10
エクスポート品質：画面合成（PNG）だけ


メニューの「Insert」は「Annotation」という名前に変更してください
「Annotation」メニューをクリックしたら、「Annotation Panel」を表示するようにしてください
「Annotation Panel」は他のパネルと同じようなデザインにしてください
「Annotation Panel」は「Appearance」と「Layers」でタブ切り替えできるようにしてください
「Annotation Panel」は見た目をStyle Panelなど他のパネルの同じように白ベースに枠内は灰色にしてください


「Annotation Panel」の現在、濃い藍色の部分を白にして「Position」や「Appearance」などの枠内は灰色にしてください(Style Panelなど他のパネルの同じように)
「Annotation Panel」は移動できるようにフロートタイプにして閉じるボタンを右上に付けてください

- メニューの「Annotation」は以下のShape、Imageはなくして「Appearance」タブ内に四角、丸、図をピクトグラムで表示したボタンを作成して
そのボタンを押せば画面に図形が表示されるようにしてください。
- レイヤーはネットワーク図の背面や全面に移動できるようにしてください

Layerタブ側でForeground LayerとBackgroung Layerのどちらに表示するか切り替えられるようにしてください

Backgroung Layerにすると完全に図形が見えなくなってしまします。
例えばForeground Layerにしたときはネットワーク図のノードやエッジに被さってノードやエッジは見えなくなりますが、
Backgroung Layerにしたときノードとエッジが図形の全面にきて、その後ろに図形が見えるようにしたいです


- Daiagramのピクトグラムを一本線にしてLineという名前にしてください
- Ractangle、Elipse、Lineの他にText(テキストが入力できるボックス)、表のボタンを作成してください
- テキストボックスは、ラインの色設定(透明も含む)、ラインの太さ設定、セルの色設定(透明含む)ができるようにしてください
- テキストボックスへの文字入力はテキストボックス内をダブルクリックすれば文字入力ができるようにしたいです
- 表は行数や列数を指定してテーブルを表示する機能です(MicrosoftのPowerPointにある挿入メニューの表と同じイメージです)。
- 表はセルの統合やセルの中に文字を入力できるようにしたいです(セルをダブルクリックすると文字を入力できるなど)。
- セルの中への文字入力が可能であれば文字の大きさなども設定できるようにしてください
- 表のラインの色設定(透明も含む)、ラインの太さ設定、セルの色設定(透明含む)ができるようにしてください

- 表の列数や行数の指定はパネルの中で指定してApplyボタンを押下して表を表示するようにしてください
- 表の場合、列や行ごとに幅を調整できるようにしてください
- 表の1つ１つのセルに文字を入力できるようにしてください(パネル側にContentボックスのようなものは必要ありません)
- テキストボックスも図形と同じようにサイズ調整できるようにしてください(パネル側にContentボックスのようなものは必要ありません)

図形の整列














